<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Formation ‚Äì TORINVEST</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at top, #151528 0, #050509 55%);
      color: #f5f5f7;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px 16px;
    }

    .forge-glow {
      position: fixed;
      bottom: -40px;
      left: 50%;
      transform: translateX(-50%);
      width: 380px;
      height: 170px;
      background: radial-gradient(circle, rgba(255,180,0,0.75), transparent 60%);
      filter: blur(10px);
      opacity: 0.9;
      pointer-events: none;
      animation: pulse 2.3s ease-in-out infinite;
      z-index: 0;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.55; transform: translateX(-50%) scale(1); }
      50% { opacity: 1; transform: translateX(-50%) scale(1.08); }
    }

    .box {
      position: relative;
      width: 100%;
      max-width: 560px;
      background: #11111c;
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 18px 45px rgba(0, 0, 0, 0.8);
      padding: 26px 22px 22px;
      z-index: 1;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 18px;
      gap: 10px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo img {
      height: 44px;
      width: auto;
      border-radius: 10px;
      display: block;
    }

    .logo-text { display: flex; flex-direction: column; }

    .logo-title {
      font-weight: 700;
      font-size: 13px;
      letter-spacing: 0.08em;
    }

    .logo-sub {
      font-size: 10px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: #9a9aad;
    }

    .badge {
      font-size: 11px;
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 180, 0, 0.7);
      background: rgba(255, 180, 0, 0.08);
      color: #ffb400;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      white-space: nowrap;
    }

    h1 {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    h1 span {
      background: linear-gradient(120deg, #ffb400, #ff4b5c);
      -webkit-background-clip: text;
      color: transparent;
    }

    p {
      font-size: 14px;
      color: #a7a7b8;
      line-height: 1.6;
      margin-bottom: 12px;
    }

    .list {
      font-size: 13px;
      color: #a7a7b8;
      margin: 6px 0 14px;
      padding-left: 0;
      list-style: none;
    }

    .list li::before {
      content: "‚Ä¢";
      color: #ffb400;
      margin-right: 6px;
    }

    .divider {
      height: 1px;
      width: 100%;
      background: linear-gradient(
        90deg,
        rgba(255,180,0,0),
        rgba(255,180,0,0.9),
        rgba(255,75,92,0)
      );
      margin: 12px 0 14px;
      opacity: 0.7;
    }

    .small-input-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 6px;
    }

    .small-input {
      flex: 1 1 180px;
      min-width: 0;
      padding: 9px 11px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(0, 0, 0, 0.5);
      color: #f5f5f7;
      font-size: 13px;
      outline: none;
    }

    .small-input::placeholder { color: #6b6b80; }

    .btn {
      border-radius: 999px;
      padding: 9px 18px;
      font-size: 13px;
      border: none;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-weight: 500;
      transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;
      background: linear-gradient(135deg, #ffb400, #ff4b5c);
      color: #1b1305;
      box-shadow: 0 10px 26px rgba(0,0,0,0.8);
      white-space: nowrap;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 32px rgba(0,0,0,0.9);
      filter: brightness(1.05);
    }

    .note {
      font-size: 11px;
      color: #6f6f82;
      margin-top: 10px;
    }

    .footer-links {
      margin-top: 16px;
      font-size: 11px;
      color: #7f7f93;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 6px;
    }

    .footer-links a {
      color: #ffb400;
      text-decoration: none;
      opacity: 0.85;
    }

    .footer-links a:hover { opacity: 1; }

    /* ===== MODULES GRATUITS ===== */
    .modules {
      margin-top: 14px;
      padding: 14px 14px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.10);
      background:
        radial-gradient(circle at top left, rgba(255,180,0,0.10), transparent 60%),
        rgba(0,0,0,0.18);
      box-shadow: 0 14px 34px rgba(0,0,0,0.65);
    }

    .modules-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }

    .modules-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: #9a9aad;
    }

    .modules-badge {
      font-size: 10px;
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 180, 0, 0.45);
      background: rgba(255, 180, 0, 0.08);
      color: #ffb400;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      white-space: nowrap;
    }

    .modules-controls {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      align-items: center;
    }

    .module-select {
      flex: 1 1 260px;
      min-width: 0;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.50);
      color: #f5f5f7;
      font-size: 13px;
      outline: none;
      cursor: pointer;
    }

    .module-select:focus {
      border-color: rgba(255, 180, 0, 0.55);
      box-shadow: 0 0 0 3px rgba(255, 180, 0, 0.16);
    }

    .module-card {
      display: block;
      margin-top: 10px;
      padding: 12px 12px;
      border-radius: 16px;
      text-decoration: none;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.38);
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
    }

    .module-card:hover {
      transform: translateY(-2px);
      border-color: rgba(255,180,0,0.40);
      background: rgba(255,255,255,0.03);
    }

    .module-card-title {
      font-size: 13px;
      font-weight: 650;
      color: #f5f5f7;
      margin-bottom: 4px;
    }

    .module-card-meta {
      font-size: 12px;
      color: #a7a7b8;
      line-height: 1.5;
    }

    /* ===== BOUTON RETOUR ACCUEIL ===== */
    .back-home-btn {
      position: fixed;
      bottom: 22px;
      right: 22px;
      padding: 8px 14px;
      font-size: 12px;
      font-weight: 500;
      text-decoration: none;
      border-radius: 999px;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.12);
      color: #f5f5f7;
      backdrop-filter: blur(4px);
      transition: 0.2s ease;
      z-index: 9999;
    }

    .back-home-btn:hover {
      background: rgba(255, 180, 0, 0.25);
      border-color: rgba(255, 180, 0, 0.6);
      transform: translateY(-2px);
    }

    @media (max-width: 520px) {
      .box { padding: 22px 18px 20px; }
      .top-bar { flex-direction: column; align-items: flex-start; }
    }
  </style>
</head>

<body>
  <div class="forge-glow"></div>

  <div class="box">
    <div class="top-bar">
      <div class="logo">
        <img src="forge-logo.png" alt="TORINVEST Logo" />
        <div class="logo-text">
          <div class="logo-title">TORINVEST</div>
          <div class="logo-sub">TRADING ‚Ä¢ MACRO ‚Ä¢ PSYCHO</div>
        </div>
      </div>
      <div class="badge">Formation √† venir</div>
    </div>

    <h1>La <span>Forge des Formations</span> s‚Äôallume üî•</h1>

    <p>
      La premi√®re formation TORINVEST sera bient√¥t disponible.
      L‚Äôobjectif : une approche <strong>structur√©e, p√©dagogique et honn√™te</strong> sur le trading,
      la macro√©conomie et la psychologie des march√©s ‚Äì sans promesse de gains.
    </p>

    <p>
      En attendant, tu peux d√©j√† acc√©der √† des <strong>modules gratuits</strong> publi√©s sur le site,
      con√ßus pour √™tre macro-lisibles, factuels, et directement exploitables.
    </p>

    <!-- ===== MODULES GRATUITS (AJOUT√â) ===== -->
    <div class="modules">
      <div class="modules-top">
        <div class="modules-title">Modules de formation gratuits</div>
        <div class="modules-badge">Acc√®s imm√©diat</div>
      </div>

      <p style="font-size:13px; margin-bottom:10px;">
        Choisis un module dans la liste, puis ouvre-le. (Tu pourras en ajouter d‚Äôautres ici.)
      </p>

      <div class="modules-controls">
        <select id="moduleSelect" class="module-select" aria-label="Choisir un module gratuit">
          <option value="https://www.torinvest-trading.com/module-or-cycles.html" selected>
            Module Gratuit ‚Äî Cycles de l‚Äôor (1968 ‚Üí aujourd‚Äôhui)
          </option>

          <!-- Ajoute ici tes futurs modules :
          <option value="https://www.torinvest-trading.com/module-taux-reels.html">Taux r√©els & or ‚Äî guide</option>
          <option value="https://www.torinvest-trading.com/module-dxy-liquidite.html">DXY & liquidit√© ‚Äî recoupements</option>
          -->
        </select>

        <button class="btn" type="button" id="openModuleBtn">
          Ouvrir le module ‚Üó
        </button>
      </div>

      <!-- Carte cliquable (propre + p√©dagogique) -->
      <a class="module-card" href="https://www.torinvest-trading.com/module-or-cycles.html">
        <div class="module-card-title">Cycles de l‚Äôor (1968 ‚Üí aujourd‚Äôhui)</div>
        <div class="module-card-meta">
          Lecture macro cycle par cycle : ruptures mon√©taires, taux r√©els, cr√©dibilit√©, dette.
          Objectif : comprendre quand l‚Äôor monte‚Ä¶ et quand il ne monte pas.
        </div>
      </a>
    </div>
    <!-- ===== FIN MODULES GRATUITS ===== -->

    <div class="divider"></div>

    <p>
      Si tu veux √™tre parmi les premiers inform√©s √† l‚Äôouverture des modules complets,
      tu peux rejoindre d√®s maintenant la liste d‚Äôattente d√©di√©e √† la formation.
    </p>

    <ul class="list">
      <li>Acc√®s prioritaire √† l‚Äôouverture de la formation</li>
      <li>Infos en avant-premi√®re sur le contenu et les formats</li>
      <li>Projet 100 % √©ducatif, sans conseil en investissement</li>
    </ul>

    <div class="divider"></div>

    <p style="font-size:13px; margin-bottom:6px;">
      Laisse ton email ci-dessous pour √™tre pr√©venu d√®s que la Forge des Formations ouvre ses portes :
    </p>

    <form method="POST" name="liste-attente-torinvest">
      <input type="hidden" name="form-name" value="liste-attente-torinvest" />
      <p style="display:none">
        <label>Ne pas remplir : <input name="bot-field" /></label>
      </p>

      <div class="small-input-row">
        <input
          class="small-input"
          type="email"
          name="email"
          placeholder="Ton email (liste d‚Äôattente formation)"
          required
        />
        <button class="btn" type="submit">Rejoindre la liste</button>
      </div>
    </form>

    <div class="note">
      Aucun spam. Tu recevras uniquement des infos li√©es √† TORINVEST et √† l‚Äôouverture de la formation.
    </div>

    <div class="footer-links">
      <a href="/">‚Üê Retour au site TORINVEST</a>
      <span>Projet √©ducatif &amp; exp√©rimental ‚Äì Aucun conseil en investissement.</span>
    </div>
  </div>

  <script>
    // Envoi manuel vers Netlify + redirection vers la page Merci
    const form = document.forms["liste-attente-torinvest"];

    if (form) {
      form.addEventListener("submit", function (e) {
        e.preventDefault();

        const data = new FormData(form);

        fetch("/", {
          method: "POST",
          headers: { "Content-Type": "application/x-www-form-urlencoded" },
          body: new URLSearchParams(data).toString()
        })
        .then(() => {
          window.location.href = "/merci.html";
        })
        .catch((err) => {
          console.error("Erreur Netlify form", err);
          alert("Une erreur est survenue. Merci de r√©essayer dans quelques instants.");
        });
      });
    }

    // Ouverture module via menu d√©roulant
    (function(){
      const select = document.getElementById("moduleSelect");
      const btn = document.getElementById("openModuleBtn");

      function go(){
        const url = select.value;
        if(url) window.location.href = url;
      }

      btn.addEventListener("click", go);
      select.addEventListener("change", go); // ouverture directe au changement (comme Chroniques)
    })();
  </script>

  <a href="/" class="back-home-btn">‚Üê Retour accueil</a>
</body>
</html>

